{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="{% static 'styles.css' %}">
  <title>Maintenance Management</title>
  
</head>
<body class="view-maintenance">
  <div class="layout">
    <aside class="sidebar">
      <div class="brand"><div class="logo">PEO</div><div><h1>PEO Portal</h1><p>Workflow Management</p></div></div>
            <nav class="menu">
        <a class="menu-item" href="{% url 'home' %}"><svg viewBox="0 0 24 24" fill="none"><rect x="3" y="3" width="7" height="7" rx="2" stroke="currentColor" stroke-width="2"/><rect x="14" y="3" width="7" height="7" rx="2" stroke="currentColor" stroke-width="2"/><rect x="3" y="14" width="7" height="7" rx="2" stroke="currentColor" stroke-width="2"/><rect x="14" y="14" width="7" height="7" rx="2" stroke="currentColor" stroke-width="2"/></svg>Dashboard</a>
        <a class="menu-item" href="{% url 'admin_div_dashboard' %}"><svg viewBox="0 0 24 24" fill="none"><path d="M7 20v-2a4 4 0 0 1 4-4h2a4 4 0 0 1 4 4v2" stroke="currentColor" stroke-width="2"/><circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="2"/><path d="M3 10c0-1.7 1.3-3 3-3" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>Admin Division</a>
        <a class="menu-item" href="{% url 'planning_div_dashboard' %}"><svg viewBox="0 0 24 24" fill="none"><rect x="5" y="3" width="14" height="18" rx="2" stroke="currentColor" stroke-width="2"/><path d="M9 7h6M9 11h6M9 15h4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>Planning Division</a>
        <a class="menu-item" href="{% url 'construction_div_dashboard' %}"><svg viewBox="0 0 24 24" fill="none"><path d="M14 5 5 14l-1 5 5-1 9-9-4-4Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/><path d="m13 6 4 4" stroke="currentColor" stroke-width="2"/></svg>Construction Division</a>
        <a class="menu-item" href="{% url 'quality_div_dashboard' %}"><svg viewBox="0 0 24 24" fill="none"><path d="M12 3 5 6v6c0 5 3.5 7.5 7 9 3.5-1.5 7-4 7-9V6l-7-3Z" stroke="currentColor" stroke-width="2"/><path d="m9 12 2 2 4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>Quality Division</a>
        <div class="menu-group open" id="maintenanceMenuGroup">
          <button class="menu-item menu-item-group active" id="maintenanceMenuBtn" type="button" aria-expanded="true" aria-controls="maintenanceSubmenu">
            <span class="menu-main">
              <svg viewBox="0 0 24 24" fill="none"><path d="m14 6-8 8 4 4 8-8-4-4Z" stroke="currentColor" stroke-width="2"/><path d="M6 14 4 20l6-2" stroke="currentColor" stroke-width="2"/></svg>
              Maintenance Division
            </span>
            <span class="menu-caret">
              <svg viewBox="0 0 24 24" fill="none"><path d="m6 9 6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </span>
          </button>
          <div class="menu-submenu" id="maintenanceSubmenu" aria-hidden="false">
            <a class="menu-subitem" href="{% url 'maintinance_div_dashboard' %}">Maintinance Management</a>
            <a class="menu-subitem" href="{% url 'maintinance_task_management' %}">Task Management</a>
            <a class="menu-subitem" href="{% url 'maintinance_contractor_management' %}">Contractor Management</a>
          </div>
        </div>
        <a class="menu-item" href="{% url 'my_assignments' %}"><svg viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2"/><path d="m9.5 12 1.7 1.7L15 10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>My Assignments</a>
      </nav>
    </aside>
    <section class="content">
      <header class="topbar">
        <div class="heading"><h2>Maintenance Division</h2><p>Provincial roads, equipment, and maintenance scheduling</p></div>
        <div class="profile"><div class="chip"><svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="m14 6-8 8 4 4 8-8-4-4Z" stroke="currentColor" stroke-width="2"/></svg>Maintenance</div><div class="seal">OFFICE<br>OF PEO</div></div>
      </header>
      <main class="page">
        <section class="stats">
          <article class="card"><div class="ibox i-gray"><svg viewBox="0 0 24 24" fill="none"><circle cx="18" cy="6" r="3" stroke="currentColor" stroke-width="2"/><circle cx="6" cy="12" r="3" stroke="currentColor" stroke-width="2"/><circle cx="18" cy="18" r="3" stroke="currentColor" stroke-width="2"/><path d="M8.6 10.8 15.5 7.3M8.6 13.2l6.9 3.5" stroke="currentColor" stroke-width="2"/></svg></div><div><strong>228</strong><span>Provincial Roads</span></div></article>
          <article class="card"><div class="ibox i-blue"><svg viewBox="0 0 24 24" fill="none"><path d="M12 21s7-5.3 7-11a7 7 0 1 0-14 0c0 5.7 7 11 7 11Z" stroke="currentColor" stroke-width="2"/><circle cx="12" cy="10" r="2.5" stroke="currentColor" stroke-width="2"/></svg></div><div><strong>1265.6 km</strong><span>Total Length</span></div></article>
          <article class="card"><div class="ibox i-green"><svg viewBox="0 0 24 24" fill="none"><rect x="4" y="5" width="9" height="14" rx="2" stroke="currentColor" stroke-width="2"/><path d="M13 11h3l4 4v4h-2a2 2 0 0 1-2-2v-1h-3" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg></div><div><strong>0</strong><span>Equipment</span></div></article>
          <article class="card"><div class="ibox i-gold"><svg viewBox="0 0 24 24" fill="none"><rect x="4" y="6" width="16" height="14" rx="2" stroke="currentColor" stroke-width="2"/><path d="M8 3v5M16 3v5M4 10h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg></div><div><strong>0</strong><span>Scheduled Tasks</span></div></article>
        </section>
        <section class="tabs"><button class="active" type="button">Provincial Roads</button><button type="button">Equipment</button><button type="button">Maintenance Schedules</button></section>
        <section class="conditions">
          <article class="ccard"><div class="chead"><h3>Good Condition</h3><span class="count good">51</span></div><div class="bar"><span class="w1"></span></div></article>
          <article class="ccard"><div class="chead"><h3>Fair Condition</h3><span class="count fair">111</span></div><div class="bar"><span class="w2"></span></div></article>
          <article class="ccard"><div class="chead"><h3>Poor Condition</h3><span class="count poor">51</span></div><div class="bar"><span class="w3"></span></div></article>
          <article class="ccard"><div class="chead"><h3>Bad Condition</h3><span class="count bad">14</span></div><div class="bar"><span class="w4"></span></div></article>
        </section>
        <section class="filters">
          <div class="frow">
            <label class="search"><svg width="22" height="22" viewBox="0 0 24 24" fill="none"><circle cx="11" cy="11" r="6.5" stroke="#556b84" stroke-width="2"/><path d="M16 16L21 21" stroke="#556b84" stroke-width="2" stroke-linecap="round"/></svg><input type="text" placeholder="Search roads..."></label>
            <label class="sel"><select><option>All Municipalities</option></select></label>
            <label class="sel"><select><option>All Conditions</option></select></label>
            <label class="sel"><select><option>Road ID</option></select></label>
            <label class="sel"><select><option>Ascending</option></select></label>
          </div>
        </section>
        <section class="roads">
          <h2>Provincial Roads</h2>
          <p class="sub">228 roads found</p>
          <article class="muni">
            <div class="mhead"><svg viewBox="0 0 24 24" fill="none"><path d="M12 21s7-5.3 7-11a7 7 0 1 0-14 0c0 5.7 7 11 7 11Z" stroke="currentColor" stroke-width="2"/><circle cx="12" cy="10" r="2.5" stroke="currentColor" stroke-width="2"/></svg>ABORLAN <span class="tag">3 roads</span></div>
            <table><thead><tr><th>Road ID</th><th>Road Name</th><th>Length (km)</th><th>Condition</th><th>Surface Type</th></tr></thead>
              <tbody>
                <tr><td>1</td><td>Sagpangan Road</td><td>3.47</td><td><span class="pill good">Good</span></td><td>Gravel: 3.470km</td></tr>
                <tr><td>10</td><td>Plaridel - Apis Cabigaan Road</td><td>13.90</td><td><span class="pill good">Good</span></td><td>Concrete: 13.190km  Gravel: 0.710km</td></tr>
                <tr><td>11</td><td>Tagpait Feeder Road</td><td>2.25</td><td><span class="pill fair">Fair</span></td><td>Concrete: 2.250km</td></tr>
              </tbody>
            </table>
          </article>

          <article class="muni">
            <div class="mhead"><svg viewBox="0 0 24 24" fill="none"><path d="M12 21s7-5.3 7-11a7 7 0 1 0-14 0c0 5.7 7 11 7 11Z" stroke="currentColor" stroke-width="2"/><circle cx="12" cy="10" r="2.5" stroke="currentColor" stroke-width="2"/></svg>SOFRONIO ESPANOLA <span class="tag">2 roads</span></div>
            <table><thead><tr><th>Road ID</th><th>Road Name</th><th>Length (km)</th><th>Condition</th><th>Surface Type</th></tr></thead>
              <tbody>
                <tr><td>100</td><td>Pulot III-Tabud Road</td><td>7.80</td><td><span class="pill poor">Poor</span></td><td>Gravel: 7.800km</td></tr>
                <tr><td>116</td><td>Pulot I - Pulot III Road</td><td>13.17</td><td><span class="pill fair">Fair</span></td><td>Concrete: 13.170km</td></tr>
              </tbody>
            </table>
          </article>

          <article class="muni">
            <div class="mhead"><svg viewBox="0 0 24 24" fill="none"><path d="M12 21s7-5.3 7-11a7 7 0 1 0-14 0c0 5.7 7 11 7 11Z" stroke="currentColor" stroke-width="2"/><circle cx="12" cy="10" r="2.5" stroke="currentColor" stroke-width="2"/></svg>QUEZON <span class="tag">3 roads</span></div>
            <table><thead><tr><th>Road ID</th><th>Road Name</th><th>Length (km)</th><th>Condition</th><th>Surface Type</th></tr></thead>
              <tbody>
                <tr><td>101</td><td>Magsaysay Road</td><td>0.65</td><td><span class="pill fair">Fair</span></td><td>Concrete: 0.649km</td></tr>
                <tr><td>102</td><td>Tabon - Tagpapasi Road</td><td>1.39</td><td><span class="pill poor">Poor</span></td><td>Concrete: 0.170km  Gravel: 1.220km</td></tr>
                <tr><td>107</td><td>Tabon - Pinaglabanan Road</td><td>1.31</td><td><span class="pill fair">Fair</span></td><td>Gravel: 1.310km</td></tr>
              </tbody>
            </table>
          </article>

          <article class="muni">
            <div class="mhead"><svg viewBox="0 0 24 24" fill="none"><path d="M12 21s7-5.3 7-11a7 7 0 1 0-14 0c0 5.7 7 11 7 11Z" stroke="currentColor" stroke-width="2"/><circle cx="12" cy="10" r="2.5" stroke="currentColor" stroke-width="2"/></svg>BROOKE'S POINT <span class="tag">1 roads</span></div>
            <table><thead><tr><th>Road ID</th><th>Road Name</th><th>Length (km)</th><th>Condition</th><th>Surface Type</th></tr></thead>
              <tbody>
                <tr><td>103</td><td>Barong-Barong Feeder Road</td><td>1.26</td><td><span class="pill fair">Fair</span></td><td>Concrete: 0.254km  Gravel: 1.009km</td></tr>
              </tbody>
            </table>
          </article>

          <article class="muni">
            <div class="mhead"><svg viewBox="0 0 24 24" fill="none"><path d="M12 21s7-5.3 7-11a7 7 0 1 0-14 0c0 5.7 7 11 7 11Z" stroke="currentColor" stroke-width="2"/><circle cx="12" cy="10" r="2.5" stroke="currentColor" stroke-width="2"/></svg>NARRA <span class="tag">3 roads</span></div>
            <table><thead><tr><th>Road ID</th><th>Road Name</th><th>Length (km)</th><th>Condition</th><th>Surface Type</th></tr></thead>
              <tbody>
                <tr><td>104</td><td>Sandoval - Bagong Sikat Road</td><td>4.35</td><td><span class="pill poor">Poor</span></td><td>Concrete: 4.140km  Gravel: 0.210km</td></tr>
                <tr><td>105</td><td>Bato-Bato Feeder Road</td><td>3.68</td><td><span class="pill fair">Fair</span></td><td>Gravel: 3.680km</td></tr>
                <tr><td>106</td><td>Narra Panacan Road</td><td>3.28</td><td><span class="pill good">Good</span></td><td>Concrete: 3.283km</td></tr>
              </tbody>
            </table>
          </article>

          <article class="muni">
            <div class="mhead"><svg viewBox="0 0 24 24" fill="none"><path d="M12 21s7-5.3 7-11a7 7 0 1 0-14 0c0 5.7 7 11 7 11Z" stroke="currentColor" stroke-width="2"/><circle cx="12" cy="10" r="2.5" stroke="currentColor" stroke-width="2"/></svg>RIZAL <span class="tag">1 roads</span></div>
            <table><thead><tr><th>Road ID</th><th>Road Name</th><th>Length (km)</th><th>Condition</th><th>Surface Type</th></tr></thead>
              <tbody>
                <tr><td>108</td><td>Rancho - Puntabaja - Malapandeg Road</td><td>3.33</td><td><span class="pill fair">Fair</span></td><td>Concrete: 0.520km  Gravel: 2.810km</td></tr>
              </tbody>
            </table>
          </article>

          <article class="muni">
            <div class="mhead"><svg viewBox="0 0 24 24" fill="none"><path d="M12 21s7-5.3 7-11a7 7 0 1 0-14 0c0 5.7 7 11 7 11Z" stroke="currentColor" stroke-width="2"/><circle cx="12" cy="10" r="2.5" stroke="currentColor" stroke-width="2"/></svg>ROXAS <span class="tag">7 roads</span></div>
            <table><thead><tr><th>Road ID</th><th>Road Name</th><th>Length (km)</th><th>Condition</th><th>Surface Type</th></tr></thead>
              <tbody>
                <tr><td>109</td><td>Highway Junction Caramay Road</td><td>2.66</td><td><span class="pill good">Good</span></td><td>Concrete: 0.760km  Gravel: 1.900km</td></tr>
                <tr><td>110</td><td>Highway Junction Salvacion Road</td><td>7.50</td><td><span class="pill fair">Fair</span></td><td>Concrete: 0.840km  Gravel: 6.660km</td></tr>
                <tr><td>111</td><td>H-way Jct. Little Caramay-Caruray Rd.-B</td><td>15.49</td><td><span class="pill fair">Fair</span></td><td>Concrete: 6.600km  Gravel: 8.890km</td></tr>
                <tr><td>112</td><td>Highway Jct. Tagumpay-Maliko Rd.</td><td>8.96</td><td><span class="pill fair">Fair</span></td><td>Concrete: 0.214km  Gravel: 8.745km</td></tr>
                <tr><td>113</td><td>Highway Jct. Talakaigan Road</td><td>1.59</td><td><span class="pill fair">Fair</span></td><td>Concrete: 0.100km  Gravel: 1.490km</td></tr>
                <tr><td>114</td><td>Highway Jct. New Cuyo - Rizal Road</td><td>9.67</td><td><span class="pill fair">Fair</span></td><td>Concrete: 4.051km  Gravel: 5.622km</td></tr>
                <tr><td>115</td><td>San Jose Port Barton Road - A</td><td>11.55</td><td><span class="pill good">Good</span></td><td>Concrete: 11.551km</td></tr>
              </tbody>
            </table>
          </article>

          <div class="pagination">
            <span>Page 1 of 12</span>
            <div class="pager"><button type="button" aria-label="Previous">&#8249;</button><button type="button" aria-label="Next">&#8250;</button></div>
          </div>
        </section>

      </main>
    </section>
  </div>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      var group = document.getElementById("maintenanceMenuGroup");
      var btn = document.getElementById("maintenanceMenuBtn");
      var submenu = document.getElementById("maintenanceSubmenu");
      var shell = document.querySelector(".app-shell, .layout");
      var sidebar = document.querySelector(".sidebar");
      var sidebarToggleBtn = document.getElementById("sidebarToggleBtn");
      var topbar = document.querySelector(".topbar");
      var sidebarStorageKey = "peo_sidebar_collapsed";

      function applySidebarState(isCollapsed) {
        if (!shell) return;
        shell.classList.toggle("sidebar-collapsed", isCollapsed);
        if (sidebarToggleBtn) {
          sidebarToggleBtn.setAttribute("aria-expanded", String(!isCollapsed));
          sidebarToggleBtn.setAttribute("aria-label", isCollapsed ? "Show sidebar" : "Hide sidebar");
        }
      }

      if (shell && sidebar) {
        var sidebarVisible = window.getComputedStyle(sidebar).display !== "none";
        if (!sidebarVisible) {
          if (sidebarToggleBtn) sidebarToggleBtn.style.display = "none";
        } else {
          if (sidebarToggleBtn) sidebarToggleBtn.style.display = "none";
          var isMobileLayout = window.matchMedia("(max-width: 980px)").matches;
          var storedCollapsed = window.localStorage.getItem(sidebarStorageKey) === "1";
          applySidebarState(!isMobileLayout && storedCollapsed);

          var autoHideDelayMs = 5000;
          var autoHideTimer = null;
          var lastMouseX = null;

          function isDesktopAutoMode() {
            return !window.matchMedia("(max-width: 980px)").matches;
          }

          function clearAutoHideTimer() {
            if (autoHideTimer) {
              window.clearTimeout(autoHideTimer);
              autoHideTimer = null;
            }
          }

          function expandSidebar() {
            if (!shell.classList.contains("sidebar-collapsed")) {
              return;
            }
            applySidebarState(false);
            window.localStorage.setItem(sidebarStorageKey, "0");
          }

          function collapseSidebar() {
            if (shell.classList.contains("sidebar-collapsed")) {
              return;
            }
            applySidebarState(true);
            window.localStorage.setItem(sidebarStorageKey, "1");
          }

          function restartAutoHideTimer() {
            clearAutoHideTimer();
            if (!isDesktopAutoMode()) {
              return;
            }
            if (shell.classList.contains("sidebar-collapsed")) {
              return;
            }
            autoHideTimer = window.setTimeout(collapseSidebar, autoHideDelayMs);
          }

          function handlePointerActivity(event) {
            if (!isDesktopAutoMode()) {
              return;
            }
            var currentX = typeof event.clientX === "number" ? event.clientX : lastMouseX;
            var movingLeft = typeof currentX === "number" && typeof lastMouseX === "number" && currentX < (lastMouseX - 4);
            var pointerInsideSidebar = sidebar.contains(event.target);
            var nearLeftEdge = typeof currentX === "number" && currentX <= 80;
            if (pointerInsideSidebar || nearLeftEdge || movingLeft) {
              expandSidebar();
            }
            restartAutoHideTimer();
            if (typeof currentX === "number") {
              lastMouseX = currentX;
            }
          }

          document.addEventListener("mousemove", handlePointerActivity);
          document.addEventListener("mousedown", handlePointerActivity);
          document.addEventListener("keydown", restartAutoHideTimer);
          document.addEventListener("wheel", restartAutoHideTimer, { passive: true });
          window.addEventListener("focus", restartAutoHideTimer);

          window.addEventListener("resize", function () {
            clearAutoHideTimer();
            lastMouseX = null;
            if (window.matchMedia("(max-width: 980px)").matches) {
              applySidebarState(false);
              return;
            }
            var collapsedState = window.localStorage.getItem(sidebarStorageKey) === "1";
            applySidebarState(collapsedState);
            restartAutoHideTimer();
          });

          restartAutoHideTimer();
        }
      }

      if (!group || !btn || !submenu) {
        return;
      }

      btn.addEventListener("click", function () {
        var isOpen = group.classList.toggle("open");
        btn.setAttribute("aria-expanded", String(isOpen));
        submenu.setAttribute("aria-hidden", String(!isOpen));
      });
    });
  </script>
</body>
</html>

